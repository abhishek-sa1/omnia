{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "functional_groups": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the functional_group, can be any of the following Omnia defined functional_group.",
            "enum": [
              "default_x86_64",
              "service_kube_node_x86_64",
              "login_node_x86_64",
              "login_node_aarch64",
              "login_compiler_node_x86_64",
              "login_compiler_node_aarch64",
              "slurm_control_node_x86_64",
              "default_aarch64",
              "slurm_node_x86_64",
              "slurm_node_aarch64"
            ]
          },
          "location_id": {
            "type": "string",
            "description": "Scalable unit and rack number range is 0-99. Format: SU-<n>.RACK-<n>",
            "pattern": "^(SU-\\d{1,2}\\.RACK-\\d{1,2})$"
          },
          "cluster_name": {
            "type": "string",
            "pattern": "^$|^[a-zA-Z0-9_]+$",
            "description": "Name of the cluster. Mandatory for service and compute kubernetes roles like 'service_kube_node', 'kube_node'."
          },
          "parent": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9,]*$",
            "description": "List of service tag of associated active service node(s). This field will be empty for group of nodes which is associated with 'service_kube_node', 'kube_node', 'slurm_control_plane', 'slurm_node', 'login_node', 'compiler_node'."
          }
        },
        "required": [
          "name",
          "location_id",
          "cluster_name",
          "parent"
        ]
      },
      "minItems": 1,
      "uniqueItems": true,
      "maxItems": 100
    }
  },
  "required": [
    "functional_groups"
  ]
}
