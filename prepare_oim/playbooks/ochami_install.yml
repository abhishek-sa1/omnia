# Copyright 2025 Dell Inc. or its subsidiaries. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---

- name: Invoke ochami installation playbook
  ansible.builtin.import_playbook: /opt/omnia/openchami/deployment-recipes/dell/podman-quadlets/configs.yaml
  vars:
    cluster_name: "{{ hostvars['oim']['cluster_name'] }}"
    cluster_domain: "{{ hostvars['oim']['cluster_domain'] }}"
    cluster_boot_ip: "{{ hostvars['oim']['cluster_boot_ip'] }}"
    cluster_boot_interface: "{{ hostvars['oim']['cluster_boot_interface'] }}"
    coredhcp_dhcp_pool: "{{ hostvars['oim']['coredhcp_dhcp_pool'] }}"
    coredhcp_netmask: "{{ hostvars['oim']['coredhcp_netmask'] }}"
    coredhcp_lease_duration: "{{ hostvars['oim']['coredhcp_lease_duration'] }}"
    ochami_work_dir: "{{ hostvars['oim']['ochami_work_dir'] }}"
    data_oci_dir: "{{ hostvars['oim']['data_oci_dir'] }}"
    data_s3_dir: "{{ hostvars['oim']['data_s3_dir'] }}"
