# Copyright 2025 Dell Inc. or its subsidiaries. All Rights Reserved.
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
---
# This file is used to specify the server configuration.
#
# The categories are defined as following sections:
# - 'network': This section is used to specify the network configuration of the server. The value should be a dictionary, where the key is the
#              interface name and the value is a dictionary of the interface specifications. The interface specifications should include the
#              following keys:
#              - 'nicnetwork': The network associated with this interface, which must be pre-defined in network_spec.yml
#              - 'nictypes': Specify the interface type, which can be one of the following: ethernet, vlan, or infiniband.
#              - 'metric': The interface metric. To use this configuration, ensure the gateway for the network is specified in network_spec.yml.
#
#   Note: When using VLAN, the interface name should be in the format `interface.vlan_id` (e.g. enp2s0.10) or `vlan.id` (e.g. vlan.10)
#
# - 'os': This section is used to specify the OS specific settings.
#         The OS specifications should include the following keys:
#         - 'kernel': The kernel specific parameters. The value should be a dictionary, where the key is 'cmdline' and the
#                     value is a string of the kernel parameters. The kernel parameters should be provided as a
#                     string and each parameter should be separated by a space (' ').
#
# Following are the templates for providing additional network and OS details.
# Users may include the `os` or `network` sections individually if only one of them needs to be configured, or both together as well.
#
# Example for configuring only network settings:
# Categories:
#   - category-1:
#       - network:
#           - eno1:
#               nicnetwork: "nic_network1"
#               nictypes: "ethernet"
#
# Example for configuring only OS settings:
# Categories:
#   - category-2:
#       - os:
#           - kernel:
#               - cmdline: "iommu=pt intel_iommu=off pci=realloc=off processor.max_cstate=0 intel_idle.max_cstate=0 intel_pstate=disable"
#
# Note: To apply the specified configuration to the server, use the inventory format provided in examples/inventory/server_spec_inv.

Categories:
#   - category-1:
#       - network:
#           - ensp0:
#               nicnetwork: "nic_network1"
#               nictypes: "ethernet"
#               metric: ""
#           - ensp0.5:
#               nicnetwork: "nic_network2"
#               nictypes: "vlan"
#               nicdevices: "ensp0"
#               metric: ""
#       - os:
#           - kernel:
#               - cmdline: ""

#   - category-2:
#       - network:
#           - eno1:
#               nicnetwork: "nic_network1"
#               nictypes: "ethernet"
